# 区块联动规则

## 介绍

区块联动规则允许用户动态控制区块的显示，从区块层面整体管理元素的展示。区块作为字段和操作按钮的载体，通过这些规则，用户可以从区块维度灵活控制整个视图的显示。

![20251029112218](https://static-docs.nocobase.com/20251029112218.png)

![20251029112338](https://static-docs.nocobase.com/20251029112338.png)

> **注意**: 在执行区块联动规则之前，区块的显示首先需要经过 **ACL 权限判断**，只有当用户具备相应的访问权限时，才能进入区块联动规则的判断逻辑。换句话说，区块联动规则仅在满足 ACL 查看权限要求后生效，无区块联动规则时区块默认显示。

### 全局变量控制区块

**区块联动规则**支持通过全局变量来动态控制区块的展示内容，使得不同角色和权限的用户能够看到和操作定制化的数据视图。例如，在一个订单管理系统中，虽然不同角色（如管理员、销售人员、财务人员等）都具有查看订单的权限，但每个角色需要查看的字段和操作按钮可能不同。通过配置全局变量，可以根据用户的角色、权限或其他条件，灵活调整显示的字段、操作按钮、甚至是数据的排序和筛选规则。

#### 具体应用场景：

- **角色权限控制**：根据不同角色的权限，控制某些字段是否可见或可编辑。例如，销售人员只能查看订单的基本信息，而财务人员可以查看订单的支付详情。
- **个性化视图**：为不同部门或团队定制不同的区块视图，确保每个用户仅看到与其工作相关的内容，提高工作效率。
- **操作权限管理**：通过全局变量控制操作按钮的显示，例如，某些角色可能只能查看数据，其他角色则可以执行修改、删除等操作。

### 上下文变量控制区块

区块还可以通过上下文中的变量来控制其显示。例如，可以使用「当前记录」、「当前表单」、「当前弹窗记录」等上下文变量来动态显示或隐藏区块。

示例：仅订单的状态为「已付款」，才显示“订单商机信息”区块。

![20251029114022](https://static-docs.nocobase.com/20251029114022.png)

更多联动规则说明参考 [联动规则](/interface-builder/linkage-rule)
